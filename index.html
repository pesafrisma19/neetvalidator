<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Neet Validator | Cek ID & Username Game</title>
    <!-- Memuat Tailwind CSS untuk styling yang cepat dan responsif -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Konfigurasi Tailwind untuk Font Inter dan warna dasar -->
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    fontFamily: {
                        sans: ['Inter', 'sans-serif'],
                    },
                    colors: {
                        'primary': '#4f46e5', // Indigo 600
                        'secondary': '#8b5cf6', // Violet 500
                        'success': '#10b981', // Emerald 500
                        'error': '#ef4444', // Red 500
                    }
                }
            }
        }
    </script>
    <style>
        /* Gaya dasar untuk elemen yang tidak bisa diatasi dengan Tailwind class */
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@100..900&display=swap');
    </style>
</head>
<body class="bg-gray-50 font-sans min-h-screen flex items-center justify-center p-4">

    <div class="w-full max-w-4xl bg-white shadow-xl rounded-xl p-6 md:p-10">
        <header class="text-center mb-10">
            <h1 class="text-4xl font-extrabold text-gray-900 mb-2">
                <span class="text-primary">Neet</span> Validator
            </h1>
            <p class="text-lg text-gray-500">Alat sederhana untuk memeriksa ID dan Username Game</p>
        </header>

        <!-- Daftar Game yang Didukung -->
        <section id="game-list" class="mb-10">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4 border-b pb-2">Pilih Game</h2>
            <div id="games-container" class="grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4">
                <!-- Data game akan diisi oleh JavaScript -->
            </div>
            <div id="game-selection-error" class="mt-4 text-error font-medium hidden">
                Harap pilih salah satu game sebelum memvalidasi.
            </div>
        </section>

        <!-- Formulir Validasi ID -->
        <section id="validation-form">
            <h2 class="text-2xl font-semibold text-gray-700 mb-4 border-b pb-2">Validasi ID & Username</h2>
            
            <form id="check-form" class="space-y-6">
                
                <div>
                    <label for="gameId" class="block text-sm font-medium text-gray-700 mb-1">ID Game (Player ID)</label>
                    <input type="text" id="gameId" placeholder="Masukkan ID Game Anda" required 
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-150 ease-in-out shadow-sm"
                           pattern="[0-9]*" title="Hanya angka yang diperbolehkan untuk ID Game."
                           >
                </div>
                
                <div>
                    <label for="serverRegion" class="block text-sm font-medium text-gray-700 mb-1">Server/Region (Opsional)</label>
                    <input type="text" id="serverRegion" placeholder="Contoh: Asia, 1234, atau biarkan kosong jika tidak perlu"
                           class="w-full p-3 border border-gray-300 rounded-lg focus:ring-primary focus:border-primary transition duration-150 ease-in-out shadow-sm">
                </div>
                
                <button type="submit" id="submit-button" 
                        class="w-full bg-primary hover:bg-indigo-700 text-white font-bold py-3 px-4 rounded-lg shadow-md transition duration-200 ease-in-out disabled:opacity-50 disabled:cursor-not-allowed">
                    Cek Username
                </button>
            </form>

            <!-- Area Hasil -->
            <div id="validation-result" class="mt-8 p-4 md:p-6 rounded-lg bg-gray-100 shadow-inner hidden">
                <p id="result-message" class="text-lg font-semibold text-center"></p>
                <div id="result-details" class="mt-3 text-sm text-gray-700 space-y-2">
                    <!-- Detail hasil akan diisi di sini -->
                </div>
            </div>
            
            <!-- Loading Indicator (Disimulasikan) -->
            <div id="loading-indicator" class="mt-8 text-center hidden">
                <div class="animate-spin inline-block w-8 h-8 border-4 border-primary border-t-transparent rounded-full" role="status">
                    <span class="sr-only">Memuat...</span>
                </div>
                <p class="text-gray-500 mt-2">Sedang memproses validasi...</p>
            </div>
        </section>
        
        <footer class="mt-10 pt-6 border-t text-center text-sm text-gray-500">
            Dibuat untuk tujuan demo dan edukasi oleh Neet.
        </footer>
    </div>

    <script>
        // --- DATA GAME SIMULASI ---
        const gamesData = [
            { id: 'mlbb', name: 'Mobile Legends Bang Bang', icon: 'https://placehold.co/40x40/4f46e5/ffffff?text=ML' },
            { id: 'pubgm', name: 'PUBG Mobile', icon: 'https://placehold.co/40x40/8b5cf6/ffffff?text=PM' },
            { id: 'genshin', name: 'Genshin Impact', icon: 'https://placehold.co/40x40/10b981/ffffff?text=GI' },
            { id: 'valo', name: 'Valorant', icon: 'https://placehold.co/40x40/ef4444/ffffff?text=VL' },
            { id: 'ff', name: 'Free Fire', icon: 'https://placehold.co/40x40/f59e0b/ffffff?text=FF' },
            { id: 'codm', name: 'Call of Duty Mobile', icon: 'https://placehold.co/40x40/374151/ffffff?text=COD' },
        ];

        // --- Variabel State ---
        let selectedGameId = null;
        const form = document.getElementById('check-form');
        const gamesContainer = document.getElementById('games-container');
        const validationResult = document.getElementById('validation-result');
        const resultMessage = document.getElementById('result-message');
        const resultDetails = document.getElementById('result-details');
        const loadingIndicator = document.getElementById('loading-indicator');
        const submitButton = document.getElementById('submit-button');
        const gameSelectionError = document.getElementById('game-selection-error');

        // --- FUNGSI UTILITY FIREBASE (Untuk Aplikasi Sebenarnya) ---
        // NOTE: Dalam demo ini, kita hanya melakukan simulasi.
        // Jika Anda ingin menyimpan daftar game atau hasil ke database nyata, 
        // Anda akan menggunakan kode Firebase/Firestore di sini.
        /*
        import { initializeApp } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-app.js";
        import { getFirestore, collection, doc, setDoc, getDoc } from "https://www.gstatic.com/firebasejs/11.6.1/firebase-firestore.js";

        // Pastikan variabel global didefinisikan atau diinisialisasi
        const firebaseConfig = typeof __firebase_config !== 'undefined' ? JSON.parse(__firebase_config) : {};
        const appId = typeof __app_id !== 'undefined' ? __app_id : 'default-app-id';

        if (Object.keys(firebaseConfig).length > 0) {
            const app = initializeApp(firebaseConfig);
            const db = getFirestore(app);
            // Lakukan inisialisasi otentikasi jika diperlukan
        } else {
            console.error("Firebase config is missing. Data persistence will be simulated.");
        }
        */

        /**
         * Fungsi untuk merender daftar game di UI.
         */
        function renderGameList() {
            gamesContainer.innerHTML = ''; // Kosongkan container
            gamesData.forEach(game => {
                const button = document.createElement('button');
                button.setAttribute('type', 'button');
                button.setAttribute('data-id', game.id);
                button.className = 'game-card flex items-center p-3 space-x-3 bg-gray-100 rounded-lg transition duration-200 ease-in-out hover:bg-primary/10 hover:shadow-md border border-transparent';
                
                // Tambahkan ikon dan nama game
                button.innerHTML = `
                    <img src="${game.icon}" alt="${game.name} Icon" class="w-8 h-8 rounded-full object-cover">
                    <span class="text-sm font-medium text-gray-700">${game.name}</span>
                `;

                // Logika saat game dipilih
                button.addEventListener('click', () => {
                    // Hapus highlight dari semua kartu
                    document.querySelectorAll('.game-card').forEach(card => {
                        card.classList.remove('ring-4', 'ring-secondary', 'ring-opacity-50', 'bg-secondary/20');
                        card.classList.add('bg-gray-100');
                    });

                    // Highlight kartu yang dipilih
                    button.classList.add('ring-4', 'ring-secondary', 'ring-opacity-50', 'bg-secondary/20');
                    button.classList.remove('bg-gray-100');
                    
                    selectedGameId = game.id;
                    gameSelectionError.classList.add('hidden'); // Sembunyikan pesan error
                    console.log(`Game terpilih: ${game.name}`);
                });

                gamesContainer.appendChild(button);
            });
        }

        /**
         * Fungsi yang mensimulasikan panggilan API untuk validasi ID.
         * Dalam aplikasi nyata, ini adalah tempat Anda memanggil API Validator Game Anda.
         * @param {string} gameId - ID Game
         * @param {string} playerId - Player ID
         * @param {string} server - Server/Region
         * @returns {Promise<{success: boolean, username: string, gameName: string, message: string}>}
         */
        function simulateValidationApi(gameId, playerId, server) {
            return new Promise(resolve => {
                // Simulasi waktu tunda jaringan
                setTimeout(() => {
                    const selectedGame = gamesData.find(g => g.id === gameId);
                    const gameName = selectedGame ? selectedGame.name : 'Unknown Game';

                    // Logika simulasi sederhana
                    if (playerId.length < 5) {
                        // Simulasi validasi gagal
                        resolve({
                            success: false,
                            username: null,
                            gameName: gameName,
                            message: `ID Game (${playerId}) terlalu pendek. Gagal mendapatkan data.`
                        });
                    } else if (playerId.startsWith('999')) {
                        // Simulasi ID yang valid
                        const dummyUsername = `NeetPlayer${playerId.slice(-3)}`;
                        resolve({
                            success: true,
                            username: dummyUsername,
                            gameName: gameName,
                            message: `Username berhasil ditemukan!`
                        });
                    } else {
                        // Simulasi ID tidak terdaftar
                        resolve({
                            success: false,
                            username: null,
                            gameName: gameName,
                            message: `ID Game (${playerId}) tidak ditemukan di server/region ${server || 'standar'}.`
                        });
                    }
                }, 2000); // Tunda 2 detik
            });
        }

        // --- Event Listener untuk Formulir ---
        form.addEventListener('submit', async (e) => {
            e.preventDefault();
            
            // 1. Validasi Pemilihan Game
            if (!selectedGameId) {
                gameSelectionError.classList.remove('hidden');
                validationResult.classList.add('hidden');
                return;
            }

            const playerId = document.getElementById('gameId').value.trim();
            const server = document.getElementById('serverRegion').value.trim();

            // 2. Tampilkan Loading dan Nonaktifkan Tombol
            validationResult.classList.add('hidden');
            loadingIndicator.classList.remove('hidden');
            submitButton.disabled = true;

            try {
                // 3. Panggil API Simulasi
                const result = await simulateValidationApi(selectedGameId, playerId, server);

                // 4. Update UI dengan Hasil
                loadingIndicator.classList.add('hidden');
                validationResult.classList.remove('hidden');
                
                const gameName = gamesData.find(g => g.id === selectedGameId).name;
                
                // Atur gaya dan pesan berdasarkan keberhasilan
                if (result.success) {
                    validationResult.classList.remove('bg-red-100');
                    validationResult.classList.add('bg-green-100', 'border-l-4', 'border-success');
                    resultMessage.classList.remove('text-error');
                    resultMessage.classList.add('text-success');
                    resultMessage.textContent = result.message;
                    
                    resultDetails.innerHTML = `
                        <p><span class="font-bold">Game:</span> ${gameName}</p>
                        <p><span class="font-bold">ID Game:</span> ${playerId}</p>
                        <p><span class="font-bold">Username Ditemukan:</span> <span class="text-success font-extrabold">${result.username}</span></p>
                        ${server ? `<p><span class="font-bold">Server/Region:</span> ${server}</p>` : ''}
                    `;
                } else {
                    validationResult.classList.remove('bg-green-100');
                    validationResult.classList.add('bg-red-100', 'border-l-4', 'border-error');
                    resultMessage.classList.remove('text-success');
                    resultMessage.classList.add('text-error');
                    resultMessage.textContent = result.message;
                    
                    resultDetails.innerHTML = `
                        <p><span class="font-bold">Game:</span> ${gameName}</p>
                        <p><span class="font-bold">ID Game:</span> ${playerId}</p>
                        ${server ? `<p><span class="font-bold">Server/Region:</span> ${server}</p>` : ''}
                        <p class="mt-2 text-sm text-gray-500">Mohon periksa kembali ID Game dan Server/Region yang Anda masukkan.</p>
                    `;
                }
            } catch (error) {
                // 5. Tangani Error
                console.error("Error during validation:", error);
                loadingIndicator.classList.add('hidden');
                validationResult.classList.remove('hidden', 'bg-green-100');
                validationResult.classList.add('bg-red-100', 'border-l-4', 'border-error');
                resultMessage.classList.remove('text-success');
                resultMessage.classList.add('text-error');
                resultMessage.textContent = 'Terjadi kesalahan saat menghubungi layanan. Coba lagi.';
                resultDetails.innerHTML = `<p>Detail Error: ${error.message || 'Unknown error'}</p>`;
            } finally {
                // 6. Aktifkan kembali tombol
                submitButton.disabled = false;
            }
        });

        // --- Inisialisasi Aplikasi ---
        document.addEventListener('DOMContentLoaded', () => {
            renderGameList();
        });
    </script>
</body>
</html>